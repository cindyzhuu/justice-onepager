{% load otree static %}
<html>

<div class="row">
    <div class="col-sm-4">
        <form class="well" role="complementary" id="left_box" style="position:relative;
                                        width:350px;
                                        padding-bottom:20px;">
            <div id="concil_variable"
                 class="form-group"
                 role="radiogroup" aria-labelledby="concil_variable-label">
                <label class="control-label" id="concil_variable-label" for="concil_variable">Agrupar expedientes
                    por:</label>
                <div class="">
                    <div class="radio">
                        <label>
                            <input type="radio" name="concil_variable" value="Fecha de registro" checked="checked">
                            <span>Fecha de registro</span>
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="concil_variable" value="Fecha de acta">
                            <span>Fecha de acta</span>
                        </label>
                    </div>
                </div>
            </div>
            <div id="type_of_graph"
                 class="form-group "
                 role="radiogroup" aria-labelledby="type_of_graph-label">
                <label class="control-label" id="type_of_graph-label" for="type_of_graph">Indicador:</label>
                <div class="">
                    <div class="radio">
                        <label>
                            <input type="radio" name="type_of_graph" value="Número de expedientes" checked="checked">
                            <span>Número de expedientes</span>
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="type_of_graph" value="Tasa de efectividad">
                            <span>Tasa de efectividad</span>
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="type_of_graph" value="Duración de expedientes">
                            <span>Duración de expedientes</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" id="especialidad-label" for="especialidad-selectized">Especialidad del
                    expediente</label>
                <div>
                    <select id="especialidad" tabindex="-1">
                        <option value="TODOS" selected="selected">TODOS</option>
                        <option value="FAMILIA">
                            FAMILIA
                        </option>
                        <option value="CIVIL">
                            CIVIL
                        </option>
                        <option value="OTROS">
                            OTROS
                        </option>
                        <option value="CONTRATACIONES DEL ESTADO">CONTRATACIONES DEL ESTADO
                        </option>
                        <option value="LABORAL">
                            LABORAL
                        </option>
                        <option value="PENAL (INDEMNIZACIONES)">PENAL (INDEMNIZACIONES)
                        </option>
                        <option value="SALUD">
                            SALUD
                        </option>
                    </select>
                </div>
            </div>
            <div id="date_concil_solo"
            >
                <label class="control-label" id="date_concil_solo-label" for="date_concil_solo">Año de
                    resolución</label>
                <div class="input-daterange input-group input-group-sm">
                    <input class="form-control" type="text" aria-labelledby="date_concil_solo-label"
                           title="Date format: yyyy-mm-dd" data-provide="datepicker">
                    <span class="input-group-addon input-group-prepend input-group-append">
              <span class="input-group-text">a</span>
            </span>
                    <input class="form-control" type="text" aria-labelledby="date_concil_solo-label"
                           title="Date format: yyyy-mm-dd" data-provide="datepicker">
                </div>
            </div>
            <a id="concilPDF" class="btn btn-success text-white mt-4"
               href="#" target="_blank"
               aria-live="polite">
                <i class="fa fa-download" role="presentation" aria-label="download icon"></i>
                Descargar PDF
            </a>
        </form>
    </div>
    <div class="col-sm-8" role="main" id="num_of_files">
        <h1>Número de expedientes</h1>
        <p>Las gráficas abajo representan el total histórico y la evolución temporal de su número de casos.</p>
        <hr>
        <h4>¿Cuántos expedientes conciliatorios de cada materia he manejado?</h4>
        <canvas id="expedientes-chart"></canvas>
        <hr class="mt-xl-5">
        <h6>¿Cuántos expedientes conciliatorios he manejado cada mes?</h6>
        <canvas id="constconciliatorios"></canvas>
    </div>
</div>

<script type="text/javascript">
    const expendientesLabels = [
        'PENSION DE ALIMENTOS',
        'DESALOJO',
        'OTROS',
        'LEY 29227 PARA SEPARACION CONVENCIONAL',
        'OBLIGACION DE DAR SUMA DE DINERO',
        'TENENCIA DE MENOR',
        'REGIMEN DE VISITAS',
        'GASTOS DE EMBARAZO',
        'INDEMNIZACION',
        'REIVINDICACION DE PROPIEDAD',
        'OBLIGACION DE HACER',
        'OBLIGACION DE DAR',
        'LIQUIDACION DE SOCIEDAD DE GANANCIALES',
    ];

    const númeroExpedientesData = {
        labels: expendientesLabels,
        datasets: [
            {
                label: '',
                backgroundColor: ['#56B4E9', '#F8766D', '#00ACFC', '#8CAB00', '#00C1AB', '#FF65AC', '#D575FE', '#E18A00', '#BE9C00', '#F962DD', '#00BBDA', '#00BE70', '#24B700'],
                borderColor: ['#56B4E9', '#F8766D', '#00ACFC', '#8CAB00', '#00C1AB', '#FF65AC', '#D575FE', '#E18A00', '#BE9C00', '#F962DD', '#00BBDA', '#00BE70', '#24B700'],
                data: [513, 134, 109, 71, 46, 36, 26, 11, 8, 7, 3, 3, 1],
            }
        ]
    };

    const númeroExpedientesConfig = {
        type: 'bar',

        data: númeroExpedientesData,
        options: {
            indexAxis: 'y',
            plugins: {
                legend: {
                    display: false,
                }
            },
            scales: {
                x: {
                    title: {
                        display: true,
                        text: "Número de expendientes",
                        font: {
                            size: 22
                        }
                    }
                }
            }
        }
    };
    const númeroExpedientes = new Chart(
        document.getElementById('expedientes-chart'),
        númeroExpedientesConfig
    );


    const conciliatoriosLabels = [
        '2014', '', '', '', '', '', '', '', '', '', '', '',
        '2015', '', '', '', '', '', '', '', '', '', '', '',
        '2016', '', '', '', '', '', '', '', '', '', '', '',
        '2017', '', '', '', '', '', '', '', '', '', '', '',
        '2018', '', '', '', '', '', '', '', '', '', '', '',
        '2019', '', '', '', '', '', '', '', '', '', '', '',
        '2020', '', '', '', '', '', '', '', '', '', '', '',
        '2021', '', '', '', '', '', '', '', '', '', '', '',
        '2022', '', '', '', '', '', '', '', '', '', '', '',
    ];
    const conciliatoriosData = {
        labels: conciliatoriosLabels,
        datasets: [
            {
                backgroundColor: '#56B4E9',
                borderColor: '#56B4E9',
                data: [
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                    12, 31, 38, 57, 75, 84, 0, 54, 65, 42, 34, 15,
                ],

            }
        ]
    };

    constconciliatoriosConfig = {
        type: 'line',
        data: conciliatoriosData,
        options: {
            plugins: {
                legend: {
                    display: false,
                }
            },
            scales: {
                y: {
                    title: {
                        display: true,
                        text: "Expedientes mensuales",
                        font: {
                            size: 22
                        }
                    }
                },
                x: {
                    title: {
                        display: true,
                        text: "Tiempo",
                        font: {
                            size: 22
                        },
                    },
                },
            }
        }
    };

    const constconciliatorios = new Chart(
        document.getElementById('constconciliatorios'),
        constconciliatoriosConfig
    );

</script>

</html>